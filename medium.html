<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üêß Penguin Rescue ‚Äì Medium Mode üêß</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <style>
    * {margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif;}
    body {
      overflow:hidden;
      background: linear-gradient(135deg,#4e54c8,#8f94fb);
      min-height:100vh; display:flex; justify-content:center; align-items:center;
    }

    /* üå´ Moving mist background */
    .mist {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3), transparent 70%),
                  radial-gradient(circle at 70% 70%, rgba(255,255,255,0.3), transparent 70%);
      background-size: 200% 200%;
      animation: mistMove 20s infinite alternate ease-in-out;
      z-index: -1;
      filter: blur(40px);
    }
    @keyframes mistMove {
      from { background-position: 0 0, 100% 100%; }
      to { background-position: 100% 0, 0 100%; }
    }

    .game-container {
      width:90%; max-width:800px; height:100vh;
      background:rgba(255,255,255,0.1); backdrop-filter:blur(10px);
      border-radius:20px; box-shadow:0 15px 35px rgba(0,0,0,0.3);
      overflow:hidden; position:relative;
    }
    .header {background:rgba(0,0,0,0.3); padding:20px; text-align:center;}
    .header h1 {color:white; font-size:2.3rem; text-shadow:0 2px 10px rgba(0,0,0,0.3);}
    .stats {display:flex; justify-content:space-around; color:white; font-size:1.2rem;}
    .game-area {height:calc(100% - 160px); position:relative; overflow:hidden;}
    .question {
      position:absolute; top:-100px; left:50%; transform:translateX(-50%);
      background:white; padding:20px 40px; border-radius:15px; font-size:2rem; font-weight:700;
      color:#2c2c54; box-shadow:0 10px 25px rgba(0,0,0,0.2);
      animation: drop 7s linear forwards;
    }
    @keyframes drop {to {top:75%; opacity:1;}}
    .input-area {position:absolute; bottom:30px; left:50%; transform:translateX(-50%); display:flex; gap:15px;}
    .input-area input {
      padding:15px 20px; font-size:1.5rem; border:none; border-radius:15px; width:150px;
      text-align:center; box-shadow:0 5px 15px rgba(0,0,0,0.2);
    }
    .input-area button {
      padding:15px 30px; font-size:1.2rem; background:#6a5acd; color:white; border:none; border-radius:15px; cursor:pointer;
      box-shadow:0 5px 15px rgba(0,0,0,0.2); transition:all .3s ease;
    }
    .input-area button:hover {background:#5d3fd3; transform:translateY(-3px);}
    .message {
      position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
      background:white; padding:30px 50px; border-radius:20px; text-align:center;
      box-shadow:0 10px 30px rgba(0,0,0,0.3); opacity:0; transition:opacity .5s;
      z-index:10;
    }
    .message.show {opacity:1;}
    .penguin-image {position:absolute; bottom:20px; left:20px; width:120px; height:120px;}
    .penguin-image img {width:100%; height:100%; object-fit:contain;}
    .dancing-penguin {
      margin-top:20px;
      animation: dance 1s infinite;
    }
    @keyframes dance {
      0%,100%{transform:rotate(0deg);}
      25%{transform:rotate(5deg);}
      75%{transform:rotate(-5deg);}
    }
    .input-area {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  justify-content: center; /* ‚úÖ centers input + button together */
  align-items: center;     /* ‚úÖ vertically aligns them */
  gap: 10px;               
}
.input-area {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  justify-content: center; /* ‚úÖ centers input + button together */
  align-items: center;     /* ‚úÖ vertically aligns them */
  gap: 10px;               /* ‚úÖ small space between input & button */
}
/* üè† Home Button Styling */
.home-button {
  position: fixed;
  top: 20px;
  left: 20px;
  width: 50px;
  height: 50px;
  font-size: 1.8rem;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  border-radius: 50%;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  z-index: 9999;
}
.home-button:hover {
  background: rgba(255, 255, 255, 0.4);
  transform: scale(1.1);
}
  </style>
</head>
<body>
  <!-- üè† Home Button -->
<button id="home-btn" class="home-button" title="Go Home">üè†</button>
  <div class="mist"></div>
  <div class="game-container">
    <div class="header">
      <h1>üêß Penguin Rescue ‚Äì Medium Mode üêß</h1>
      <div class="stats">
        <div>Questions: <span id="question-count">0</span>/7</div>
        <div>Correct: <span id="correct-count">0</span></div>
        <div>Penguins Free: <span id="penguin-count">0</span></div>
      </div>
    </div>

    <div class="game-area" id="game-area">
      <div class="penguin-image">
        <img src="https://pfst.cf2.poecdn.net/base/image/74f24b026c77420015a92aa45e28629d5c10d0d5657043469463be18d231f0f0?w=512&h=512" alt="Cute Penguin"/>
      </div>
    </div>

    <div class="input-area">
      <input type="number" id="answer-input" placeholder="?" />
      <button id="submit-btn">Submit</button>
    </div>

    <div class="message" id="message">
      <h2 id="message-title">üéâ Game Over! üéâ</h2>
      <p id="message-text">You freed <span id="freed-penguins">0</span> penguins!</p>
      <div class="dancing-penguin">
        <img src="https://media.giphy.com/media/3oKIPwoeGErMmaI43C/giphy.gif" alt="Dancing Penguin">
      </div>
      <button onclick="restartGame()">Play Again</button>
    </div>
  </div>

  <script>
    const gameArea = document.getElementById("game-area");
    const answerInput = document.getElementById("answer-input");
    const submitBtn = document.getElementById("submit-btn");
    const messageBox = document.getElementById("message");
    const freedPenguins = document.getElementById("freed-penguins");
    const qCount = document.getElementById("question-count");
    const cCount = document.getElementById("correct-count");
    const pCount = document.getElementById("penguin-count");

    let questions = [];
    let index = 0;
    let correct = 0;
    let freed = 0;
    let active = true;
    let currentQuestionDiv = null;

    function generateQuestions() {
      const arr = [];
      for (let i = 0; i < 7; i++) {
        const ops = ["+", "-", "*"];
        const op = ops[Math.floor(Math.random() * ops.length)];
        let a = Math.floor(Math.random() * 15) + 1;
        let b = Math.floor(Math.random() * 15) + 1;
        if (op === "-" && b > a) [a, b] = [b, a];
        const ans = eval(`${a}${op}${b}`);
        arr.push({ q: `${a} ${op} ${b} = ?`, a: ans });
      }
      return arr;
    }

    function startGame() {
      questions = generateQuestions();
      index = 0;
      correct = 0;
      freed = 0;
      active = true;
      messageBox.classList.remove("show");
      showQuestion();
    }

    function showQuestion() {
      if (index >= questions.length) return endGame();
      if (currentQuestionDiv) currentQuestionDiv.remove();

      const q = document.createElement("div");
      q.className = "question";
      q.textContent = questions[index].q;
      gameArea.appendChild(q);
      currentQuestionDiv = q;

      qCount.textContent = index + 1;

      setTimeout(() => {
        if (gameArea.contains(q)) {
          q.remove();
          index++;
          showQuestion();
        }
      }, 7000);
    }

    function checkAnswer() {
      if (!active || index >= questions.length) return;
      const user = parseInt(answerInput.value);
      const correctAns = questions[index].a;

      if (user === correctAns) {
        correct++;
        freed++;
        cCount.textContent = correct;
        pCount.textContent = freed;
        if (currentQuestionDiv) {
          currentQuestionDiv.remove();
          currentQuestionDiv = null;
        }
        index++;
        if (index < questions.length) showQuestion();
        else endGame();
      } else {
        // Optional feedback for wrong answers
        answerInput.style.background = "#ffdddd";
        setTimeout(() => (answerInput.style.background = "white"), 400);
      }

      answerInput.value = "";
    }

    function endGame() {
      active = false;
      freedPenguins.textContent = freed;
      messageBox.classList.add("show");
      if (currentQuestionDiv) currentQuestionDiv.remove();
    }

    function restartGame() {
      messageBox.classList.remove("show");
      startGame();
    }

    submitBtn.onclick = checkAnswer;
    answerInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") checkAnswer();
    });
    startGame();
    // üè† Go Home instantly
document.getElementById("home-btn").addEventListener("click", () => {
  window.location.href = "file:///F:/loading%20game.html";
});
  </script>
</body>
</html>
